<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_412) on Sat Aug 31 12:55:22 EDT 2024 -->
<title>WorkerEngine</title>
<meta name="date" content="2024-08-31">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WorkerEngine";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../edu/mit/csail/sdg/alloy4/Version.html" title="class in edu.mit.csail.sdg.alloy4"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.WorkerCallback.html" title="interface in edu.mit.csail.sdg.alloy4"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/mit/csail/sdg/alloy4/WorkerEngine.html" target="_top">Frames</a></li>
<li><a href="WorkerEngine.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.mit.csail.sdg.alloy4</div>
<h2 title="Class WorkerEngine" class="title">Class WorkerEngine</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>edu.mit.csail.sdg.alloy4.WorkerEngine</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">WorkerEngine</span>
extends java.lang.Object</pre>
<div class="block">This class allows you to execute tasks in a subprocess, and receive its
 outputs via callback.
 <p>
 By executing the task in a subprocess, we can always terminate a runaway task
 explicitly by calling stop(), and we can control how much memory and stack
 space to give to the subprocess.
 <p>
 Only one task may execute concurrently at any given time; if you try to issue
 a new task when the previous task hasn't finished, then you will get an
 IOException.
 <p>
 As long as the subprocess hasn't terminated either due to crashing or due to
 user calling stop(), then the same subprocess is reused to execute each
 subsequent task; however, if the subprocess crashed, the crash will be
 reported to the parent process via callback, and if we try to execute another
 task, then a new subprocess will be spawned automatically.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.WorkerCallback.html" title="interface in edu.mit.csail.sdg.alloy4">WorkerEngine.WorkerCallback</a></span></code>
<div class="block">This defines an interface for receiving results from a subprocess.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.WorkerTask.html" title="interface in edu.mit.csail.sdg.alloy4">WorkerEngine.WorkerTask</a></span></code>
<div class="block">This defines an interface for performing tasks in a subprocess.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.html#isBusy--">isBusy</a></span>()</code>
<div class="block">This returns true iff the subprocess is still busy processing the last task.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>
<div class="block">This is the entry point for the sub JVM.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.html#run-edu.mit.csail.sdg.alloy4.WorkerEngine.WorkerTask-int-int-java.lang.String-java.lang.String-edu.mit.csail.sdg.alloy4.WorkerEngine.WorkerCallback-">run</a></span>(<a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.WorkerTask.html" title="interface in edu.mit.csail.sdg.alloy4">WorkerEngine.WorkerTask</a>&nbsp;task,
   int&nbsp;newmem,
   int&nbsp;newstack,
   java.lang.String&nbsp;jniPath,
   java.lang.String&nbsp;classPath,
   <a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.WorkerCallback.html" title="interface in edu.mit.csail.sdg.alloy4">WorkerEngine.WorkerCallback</a>&nbsp;callback)</code>
<div class="block">This issues a new task to the subprocess; if subprocess hasn't been
 constructed yet or has terminated abnormally, this method will launch a new
 subprocess.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.html#runLocally-edu.mit.csail.sdg.alloy4.WorkerEngine.WorkerTask-edu.mit.csail.sdg.alloy4.WorkerEngine.WorkerCallback-">runLocally</a></span>(<a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.WorkerTask.html" title="interface in edu.mit.csail.sdg.alloy4">WorkerEngine.WorkerTask</a>&nbsp;task,
          <a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.WorkerCallback.html" title="interface in edu.mit.csail.sdg.alloy4">WorkerEngine.WorkerCallback</a>&nbsp;callback)</code>
<div class="block">This executes a task using the current thread.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.html#stop--">stop</a></span>()</code>
<div class="block">This terminates the subprocess, and prevent any further results from reaching
 the parent's callback handler.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="stop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public static&nbsp;void&nbsp;stop()</pre>
<div class="block">This terminates the subprocess, and prevent any further results from reaching
 the parent's callback handler.</div>
</li>
</ul>
<a name="isBusy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isBusy</h4>
<pre>public static&nbsp;boolean&nbsp;isBusy()</pre>
<div class="block">This returns true iff the subprocess is still busy processing the last task.</div>
</li>
</ul>
<a name="runLocally-edu.mit.csail.sdg.alloy4.WorkerEngine.WorkerTask-edu.mit.csail.sdg.alloy4.WorkerEngine.WorkerCallback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runLocally</h4>
<pre>public static&nbsp;void&nbsp;runLocally(<a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.WorkerTask.html" title="interface in edu.mit.csail.sdg.alloy4">WorkerEngine.WorkerTask</a>&nbsp;task,
                              <a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.WorkerCallback.html" title="interface in edu.mit.csail.sdg.alloy4">WorkerEngine.WorkerCallback</a>&nbsp;callback)
                       throws java.lang.Exception</pre>
<div class="block">This executes a task using the current thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>task</code> - - the task that we want to execute</dd>
<dd><code>callback</code> - - the handler that will receive outputs from the task</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - - if a previous task is still busy executing</dd>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="run-edu.mit.csail.sdg.alloy4.WorkerEngine.WorkerTask-int-int-java.lang.String-java.lang.String-edu.mit.csail.sdg.alloy4.WorkerEngine.WorkerCallback-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public static&nbsp;void&nbsp;run(<a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.WorkerTask.html" title="interface in edu.mit.csail.sdg.alloy4">WorkerEngine.WorkerTask</a>&nbsp;task,
                       int&nbsp;newmem,
                       int&nbsp;newstack,
                       java.lang.String&nbsp;jniPath,
                       java.lang.String&nbsp;classPath,
                       <a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.WorkerCallback.html" title="interface in edu.mit.csail.sdg.alloy4">WorkerEngine.WorkerCallback</a>&nbsp;callback)
                throws java.io.IOException</pre>
<div class="block">This issues a new task to the subprocess; if subprocess hasn't been
 constructed yet or has terminated abnormally, this method will launch a new
 subprocess.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>task</code> - - the task that we want the subprocess to execute</dd>
<dd><code>newmem</code> - - the amount of memory (in megabytes) we want the subprocess to
            have (if the subproces has not terminated, then this parameter is
            ignored)</dd>
<dd><code>newstack</code> - - the amount of stack (in kilobytes) we want the subprocess
            to have (if the subproces has not terminated, then this parameter
            is ignored)</dd>
<dd><code>jniPath</code> - - if nonnull and nonempty, then it specifies the subprocess's
            default JNI library location</dd>
<dd><code>classPath</code> - - if nonnull and nonempty, then it specifies the
            subprocess's default CLASSPATH, else we'll use
            System.getProperty("java.class.path")</dd>
<dd><code>callback</code> - - the handler that will receive outputs from the task</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - - if a previous task is still busy executing</dd>
<dd><code>java.io.IOException</code> - - if an error occurred in launching a sub JVM or talking
             to it</dd>
</dl>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
<div class="block">This is the entry point for the sub JVM.
 <p>
 Behavior is very simple: it reads a WorkerTask object from System.in, then
 execute it, then read another... If any error occurred, or if it's
 disconnected from the parent process's pipe, it then terminates itself (since
 we assume the parent process will notice it and react accordingly)</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../edu/mit/csail/sdg/alloy4/Version.html" title="class in edu.mit.csail.sdg.alloy4"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../edu/mit/csail/sdg/alloy4/WorkerEngine.WorkerCallback.html" title="interface in edu.mit.csail.sdg.alloy4"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/mit/csail/sdg/alloy4/WorkerEngine.html" target="_top">Frames</a></li>
<li><a href="WorkerEngine.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
